
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
	<head>
		<meta http-equiv="Content-type" content="text/html; charset=utf-8"/>
		<title>artificial-intelligence</title>
		<link rel="stylesheet" href="styles.css" type="text/css" charset="utf-8"/>
	</head>
	<body>
		<h1>Jas1052 / artificial-intelligence / alphabeta-othello</h1>
		<h2> Time Taken: 0.04279 sec </h2>
		<h2> 33 : 34 </h2>
		<hr />
		
		<table class="Differences DifferencesInline"><thead><tr><th>Old</th><th>New</th><th>Differences</th></tr></thead><tbody class="ChangeReplace"><tr><th>1</th><th>&nbsp;</th><td class="Left"><span>import <del>othello_c</del>ore as ai</span></td></tr><tr><th>&nbsp;</th><th>1</th><td class="Right"><span>import <ins>Othello_C</ins>ore as ai</span></td></tr></tbody><tbody class="ChangeEqual"><tr><th>2</th><th>2</th><td class="Left">import copy</td></tr><tr><th>3</th><th>3</th><td class="Left">import random</td></tr><tr><th>4</th><th>4</th><td class="Left"></td></tr><tr><th>5</th><th>5</th><td class="Left">SQUARE_WEIGHTS = [</td></tr><tr><th>6</th><th>6</th><td class="Left">&nbsp; &nbsp;0, 0, 0, 0, 0, 0, 0, 0, 0, 0,</td></tr></tbody><tbody class="ChangeReplace"><tr><th>7</th><th>&nbsp;</th><td class="Left"><span></span></td></tr><tr><th>8</th><th>&nbsp;</th><td class="Left"><span>&nbsp; &nbsp;0,&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;48,&nbsp;-15, 6,&nbsp;6,&nbsp;6,&nbsp;6,&nbsp;-15, 48,&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0,</span></td></tr><tr><th>9</th><th>&nbsp;</th><td class="Left"><span>&nbsp; &nbsp;0,&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-15, -24, -4, -4, -4, -4, -24, -15,&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0,</span></td></tr><tr><th>10</th><th>&nbsp;</th><td class="Left"><span>&nbsp; &nbsp;0,&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;6,&nbsp; -4,&nbsp;1,&nbsp;1,&nbsp;1,&nbsp;1,&nbsp;-4,&nbsp;6,&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0,</span></td></tr><tr><th>11</th><th>&nbsp;</th><td class="Left"><span>&nbsp; &nbsp;0,&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;6,&nbsp; -4,&nbsp;1,&nbsp;1,&nbsp;1,&nbsp;1,&nbsp;-4,&nbsp;6,&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0,</span></td></tr><tr><th>12</th><th>&nbsp;</th><td class="Left"><span>&nbsp; &nbsp;0,&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;6,&nbsp; -4,&nbsp;1,&nbsp;1,&nbsp;1,&nbsp;1,&nbsp;-4,&nbsp;6,&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0,</span></td></tr><tr><th>13</th><th>&nbsp;</th><td class="Left"><span>&nbsp; &nbsp;0,&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;6,&nbsp; -4,&nbsp;1,&nbsp;1,&nbsp;1,&nbsp;1,&nbsp;-4,&nbsp;6,&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0,</span></td></tr><tr><th>14</th><th>&nbsp;</th><td class="Left"><span>&nbsp; &nbsp;0,&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-15, -24, -4, -4, -4, -4, -24, -15,&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0,</span></td></tr><tr><th>15</th><th>&nbsp;</th><td class="Left"><span>&nbsp; &nbsp;0,&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;48,&nbsp;-15, 6,&nbsp;6,&nbsp;6,&nbsp;6,&nbsp;-15, 48,&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0,</span></td></tr><tr><th>16</th><th>&nbsp;</th><td class="Left"><span></span></td></tr><tr><th>17</th><th>&nbsp;</th><td class="Left"><span>&nbsp; &nbsp;0,&nbsp;0,&nbsp; 0,&nbsp; 0,&nbsp;0,&nbsp;0,&nbsp;0,&nbsp;0,&nbsp; 0,&nbsp; 0,</span></td></tr><tr><th>&nbsp;</th><th>7</th><td class="Right"><span>&nbsp; &nbsp;0, 120, -20, 20, 5, 5, 20, -20, 120, 0,</span></td></tr><tr><th>&nbsp;</th><th>8</th><td class="Right"><span>&nbsp; &nbsp;0, -20, -40, -5, -5, -5, -5, -40, -20, 0,</span></td></tr><tr><th>&nbsp;</th><th>9</th><td class="Right"><span>&nbsp; &nbsp;0, 20, -5, 15, 3, 3, 15, -5, 20, 0,</span></td></tr><tr><th>&nbsp;</th><th>10</th><td class="Right"><span>&nbsp; &nbsp;0, 5, -5, 3, 3, 3, 3, -5, 5, 0,</span></td></tr><tr><th>&nbsp;</th><th>11</th><td class="Right"><span>&nbsp; &nbsp;0, 5, -5, 3, 3, 3, 3, -5, 5, 0,</span></td></tr><tr><th>&nbsp;</th><th>12</th><td class="Right"><span>&nbsp; &nbsp;0, 20, -5, 15, 3, 3, 15, -5, 20, 0,</span></td></tr><tr><th>&nbsp;</th><th>13</th><td class="Right"><span>&nbsp; &nbsp;0, -20, -40, -5, -5, -5, -5, -40, -20, 0,</span></td></tr><tr><th>&nbsp;</th><th>14</th><td class="Right"><span>&nbsp; &nbsp;0, 120, -20, 20, 5, 5, 20, -20, 120, 0,</span></td></tr><tr><th>&nbsp;</th><th>15</th><td class="Right"><span>&nbsp; &nbsp;0, 0, 0, 0, 0, 0, 0, 0, 0, 0,</span></td></tr></tbody><tbody class="ChangeEqual"><tr><th>18</th><th>16</th><td class="Left">]</td></tr><tr><th>19</th><th>17</th><td class="Left"></td></tr></tbody><tbody class="ChangeReplace"><tr><th>20</th><th>&nbsp;</th><td class="Left"><span>bval = sum(map(abs, SQUARE_WEIGHTS))</span></td></tr><tr><th>21</th><th>&nbsp;</th><td class="Left"><span>aval = -(bval)</span></td></tr><tr><th>22</th><th>&nbsp;</th><td class="Left"><span></span></td></tr><tr><th>23</th><th>&nbsp;</th><td class="Left"><span></span></td></tr><tr><th>24</th><th>&nbsp;</th><td class="Left"><span>class othelloGame2(ai.OthelloCore):</span></td></tr><tr><th>&nbsp;</th><th>18</th><td class="Right"><span>class Strategy(ai.OthelloCore):</span></td></tr></tbody><tbody class="ChangeEqual"><tr><th>25</th><th>19</th><td class="Left">&nbsp; &nbsp;def __init__(self, board=None):</td></tr><tr><th>26</th><th>20</th><td class="Left">&nbsp; &nbsp; &nbsp; &nbsp;if board is None:</td></tr><tr><th>27</th><th>21</th><td class="Left">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;board = self.initial_board()</td></tr></tbody><tbody class="Skipped"><th>&hellip;</th><th>&hellip;</th><td>&nbsp;</td></tbody><tbody class="ChangeEqual"><tr><th>99</th><th>93</th><td class="Left"></td></tr><tr><th>100</th><th>94</th><td class="Left">&nbsp; &nbsp;def make_move(self, move, player, board):</td></tr><tr><th>101</th><th>95</th><td class="Left">&nbsp; &nbsp; &nbsp; &nbsp;"""Update the board to reflect the move by the specified player."""</td></tr></tbody><tbody class="ChangeReplace"><tr><th>102</th><th>&nbsp;</th><td class="Left"><span>&nbsp; &nbsp; &nbsp; &nbsp;temp_board = <del>[i for i in board]</del></span></td></tr><tr><th>&nbsp;</th><th>96</th><td class="Right"><span>&nbsp; &nbsp; &nbsp; &nbsp;temp_board = <ins>board</ins></span></td></tr></tbody><tbody class="ChangeEqual"><tr><th>103</th><th>97</th><td class="Left">&nbsp; &nbsp; &nbsp; &nbsp;if move is not None:</td></tr><tr><th>104</th><th>98</th><td class="Left">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;self.make_flips(move, player, temp_board, 10)</td></tr><tr><th>105</th><th>99</th><td class="Left">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;self.make_flips(move, player, temp_board, -10)</td></tr></tbody><tbody class="Skipped"><th>&hellip;</th><th>&hellip;</th><td>&nbsp;</td></tbody><tbody class="ChangeEqual"><tr><th>131</th><th>125</th><td class="Left">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if self.is_legal(i, player, board):</td></tr><tr><th>132</th><th>126</th><td class="Left">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;output.append(i)</td></tr><tr><th>133</th><th>127</th><td class="Left">&nbsp; &nbsp; &nbsp; &nbsp;return random.sample(output, len(output))</td></tr></tbody><tbody class="ChangeDelete"><tr><th>134</th><th>&nbsp;</th><td class="Left"><del>&nbsp; &nbsp; &nbsp; &nbsp;# pass</del>&nbsp;</td></tr></tbody><tbody class="ChangeEqual"><tr><th>135</th><th>128</th><td class="Left"></td></tr><tr><th>136</th><th>129</th><td class="Left">&nbsp; &nbsp;def any_legal_move(self, player, board):</td></tr><tr><th>137</th><th>130</th><td class="Left">&nbsp; &nbsp; &nbsp; &nbsp;"""Can player make any moves? Returns a boolean"""</td></tr></tbody><tbody class="Skipped"><th>&hellip;</th><th>&hellip;</th><td>&nbsp;</td></tbody><tbody class="ChangeEqual"><tr><th>166</th><th>159</th><td class="Left">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return '@'</td></tr><tr><th>167</th><th>160</th><td class="Left"></td></tr><tr><th>168</th><th>161</th><td class="Left">&nbsp; &nbsp;def score(self, player, board):</td></tr></tbody><tbody class="ChangeReplace"><tr><th>169</th><th>&nbsp;</th><td class="Left"><span>&nbsp; &nbsp; &nbsp; &nbsp;"""Compute player's score (<del>num</del>ber of player's pieces minus opponent's)."""</span></td></tr><tr><th>&nbsp;</th><th>162</th><td class="Right"><span>&nbsp; &nbsp; &nbsp; &nbsp;"""Compute player's score (<ins>current_depth</ins>ber of player's pieces minus opponent's)."""</span></td></tr></tbody><tbody class="ChangeEqual"><tr><th>170</th><th>163</th><td class="Left">&nbsp; &nbsp; &nbsp; &nbsp;otherPlayer = self.opponent(player)</td></tr><tr><th>171</th><th>164</th><td class="Left">&nbsp; &nbsp; &nbsp; &nbsp;counter = 0</td></tr><tr><th>172</th><th>165</th><td class="Left">&nbsp; &nbsp; &nbsp; &nbsp;for val in board:</td></tr></tbody><tbody class="Skipped"><th>&hellip;</th><th>&hellip;</th><td>&nbsp;</td></tbody><tbody class="ChangeEqual"><tr><th>174</th><th>167</th><td class="Left">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;counter += 1</td></tr><tr><th>175</th><th>168</th><td class="Left">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if val is otherPlayer:</td></tr><tr><th>176</th><th>169</th><td class="Left">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;counter -= 1</td></tr></tbody><tbody class="ChangeInsert"><tr><th>&nbsp;</th><th>170</th><td class="Right"><ins>&nbsp; &nbsp; &nbsp; &nbsp;return counter</ins>&nbsp;</td></tr><tr><th>&nbsp;</th><th>171</th><td class="Right"><ins></ins>&nbsp;</td></tr><tr><th>&nbsp;</th><th>172</th><td class="Right"><ins>&nbsp; &nbsp;def weigh(self, board):</ins>&nbsp;</td></tr><tr><th>&nbsp;</th><th>173</th><td class="Right"><ins>&nbsp; &nbsp; &nbsp; &nbsp;counter = 0</ins>&nbsp;</td></tr><tr><th>&nbsp;</th><th>174</th><td class="Right"><ins>&nbsp; &nbsp; &nbsp; &nbsp;for i in range(11, 88):</ins>&nbsp;</td></tr><tr><th>&nbsp;</th><th>175</th><td class="Right"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if board[i] is '@':</ins>&nbsp;</td></tr><tr><th>&nbsp;</th><th>176</th><td class="Right"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;counter -= SQUARE_WEIGHTS[i]</ins>&nbsp;</td></tr><tr><th>&nbsp;</th><th>177</th><td class="Right"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if board[i] is 'o':</ins>&nbsp;</td></tr><tr><th>&nbsp;</th><th>178</th><td class="Right"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;counter += SQUARE_WEIGHTS[i]</ins>&nbsp;</td></tr></tbody><tbody class="ChangeEqual"><tr><th>177</th><th>179</th><td class="Left">&nbsp; &nbsp; &nbsp; &nbsp;return counter</td></tr><tr><th>178</th><th>180</th><td class="Left"></td></tr><tr><th>179</th><th>181</th><td class="Left">&nbsp; &nbsp;def randomMove(self, player, board):</td></tr></tbody><tbody class="Skipped"><th>&hellip;</th><th>&hellip;</th><td>&nbsp;</td></tbody><tbody class="ChangeEqual"><tr><th>190</th><th>192</th><td class="Left">&nbsp; &nbsp; &nbsp; &nbsp;self.make_flips(move, player, board, 9)</td></tr><tr><th>191</th><th>193</th><td class="Left">&nbsp; &nbsp; &nbsp; &nbsp;self.make_flips(move, player, board, -9)</td></tr><tr><th>192</th><th>194</th><td class="Left"></td></tr></tbody><tbody class="ChangeDelete"><tr><th>193</th><th>&nbsp;</th><td class="Left"><del>&nbsp; &nbsp;# alpha beta</del>&nbsp;</td></tr><tr><th>194</th><th>&nbsp;</th><td class="Left"><del>&nbsp; &nbsp;def weight(self, p, o, b):</del>&nbsp;</td></tr><tr><th>195</th><th>&nbsp;</th><td class="Left"><del>&nbsp; &nbsp; &nbsp; &nbsp;fnl = 0</del>&nbsp;</td></tr><tr><th>196</th><th>&nbsp;</th><td class="Left"><del>&nbsp; &nbsp; &nbsp; &nbsp;for x in self.squares():</del>&nbsp;</td></tr><tr><th>197</th><th>&nbsp;</th><td class="Left"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if b[x] is p:</del>&nbsp;</td></tr><tr><th>198</th><th>&nbsp;</th><td class="Left"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;fnl += SQUARE_WEIGHTS[x]</del>&nbsp;</td></tr><tr><th>199</th><th>&nbsp;</th><td class="Left"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;elif b[x] is o:</del>&nbsp;</td></tr><tr><th>200</th><th>&nbsp;</th><td class="Left"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;fnl -= SQUARE_WEIGHTS[x]</del>&nbsp;</td></tr><tr><th>201</th><th>&nbsp;</th><td class="Left"><del>&nbsp; &nbsp; &nbsp; &nbsp;return fnl</del>&nbsp;</td></tr><tr><th>202</th><th>&nbsp;</th><td class="Left"><del></del>&nbsp;</td></tr><tr><th>203</th><th>&nbsp;</th><td class="Left"><del>&nbsp; &nbsp;def terminal_test(self, p, b):</del>&nbsp;</td></tr><tr><th>204</th><th>&nbsp;</th><td class="Left"><del>&nbsp; &nbsp; &nbsp; &nbsp;fnl = self.score(p, b)</del>&nbsp;</td></tr><tr><th>205</th><th>&nbsp;</th><td class="Left"><del>&nbsp; &nbsp; &nbsp; &nbsp;if fnl &lt; 0:</del>&nbsp;</td></tr><tr><th>206</th><th>&nbsp;</th><td class="Left"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return aval</del>&nbsp;</td></tr><tr><th>207</th><th>&nbsp;</th><td class="Left"><del>&nbsp; &nbsp; &nbsp; &nbsp;elif fnl &gt; 0:</del>&nbsp;</td></tr><tr><th>208</th><th>&nbsp;</th><td class="Left"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return bval</del>&nbsp;</td></tr><tr><th>209</th><th>&nbsp;</th><td class="Left"><del>&nbsp; &nbsp; &nbsp; &nbsp;return fnl</del>&nbsp;</td></tr><tr><th>210</th><th>&nbsp;</th><td class="Left"><del></del>&nbsp;</td></tr><tr><th>211</th><th>&nbsp;</th><td class="Left"><del>&nbsp; &nbsp;def alphabeta(self, player, board, alpha, beta, depth):</del>&nbsp;</td></tr><tr><th>212</th><th>&nbsp;</th><td class="Left"><del>&nbsp; &nbsp; &nbsp; &nbsp;if depth is 0:</del>&nbsp;</td></tr><tr><th>213</th><th>&nbsp;</th><td class="Left"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return self.weight(player, self.opponent(player), board), None</del>&nbsp;</td></tr><tr><th>214</th><th>&nbsp;</th><td class="Left"><del></del>&nbsp;</td></tr><tr><th>215</th><th>&nbsp;</th><td class="Left"><del>&nbsp; &nbsp; &nbsp; &nbsp;def value(board, alpha, beta):</del>&nbsp;</td></tr><tr><th>216</th><th>&nbsp;</th><td class="Left"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return -self.alphabeta(self.opponent(player), board, -beta, -alpha, depth - 1)[0]</del>&nbsp;</td></tr><tr><th>217</th><th>&nbsp;</th><td class="Left"><del></del>&nbsp;</td></tr><tr><th>218</th><th>&nbsp;</th><td class="Left"><del>&nbsp; &nbsp; &nbsp; &nbsp;m = self.legal_moves(player, board)</del>&nbsp;</td></tr><tr><th>219</th><th>&nbsp;</th><td class="Left"><del>&nbsp; &nbsp; &nbsp; &nbsp;if len(m) is 0:</del>&nbsp;</td></tr><tr><th>220</th><th>&nbsp;</th><td class="Left"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if not self.any_legal_move(self.opponent(player), board):</del>&nbsp;</td></tr><tr><th>221</th><th>&nbsp;</th><td class="Left"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return self.terminal_test(player, board), None</del>&nbsp;</td></tr><tr><th>222</th><th>&nbsp;</th><td class="Left"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return value(board, alpha, beta), None</del>&nbsp;</td></tr><tr><th>223</th><th>&nbsp;</th><td class="Left"><del>&nbsp; &nbsp; &nbsp; &nbsp;fnl = m[0]</del>&nbsp;</td></tr><tr><th>224</th><th>&nbsp;</th><td class="Left"><del>&nbsp; &nbsp; &nbsp; &nbsp;for x in m:</del>&nbsp;</td></tr><tr><th>225</th><th>&nbsp;</th><td class="Left"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if alpha &gt;= beta:</del>&nbsp;</td></tr><tr><th>226</th><th>&nbsp;</th><td class="Left"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;break</del>&nbsp;</td></tr><tr><th>227</th><th>&nbsp;</th><td class="Left"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;v = value(self.make_move(x, player, list(board)), alpha, beta)</del>&nbsp;</td></tr><tr><th>228</th><th>&nbsp;</th><td class="Left"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if v &gt; alpha:</del>&nbsp;</td></tr><tr><th>229</th><th>&nbsp;</th><td class="Left"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;alpha = v</del>&nbsp;</td></tr><tr><th>230</th><th>&nbsp;</th><td class="Left"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;fnl = x</del>&nbsp;</td></tr><tr><th>231</th><th>&nbsp;</th><td class="Left"><del>&nbsp; &nbsp; &nbsp; &nbsp;return alpha, fnl</del>&nbsp;</td></tr><tr><th>232</th><th>&nbsp;</th><td class="Left"><del></del>&nbsp;</td></tr></tbody><tbody class="ChangeEqual"><tr><th>233</th><th>195</th><td class="Left">&nbsp; &nbsp;def human_strategy(self, depth):</td></tr><tr><th>234</th><th>196</th><td class="Left">&nbsp; &nbsp; &nbsp; &nbsp;def humanPlayer(board, player):</td></tr><tr><th>235</th><th>197</th><td class="Left">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;print('Your Move: ' + player)</td></tr></tbody><tbody class="Skipped"><th>&hellip;</th><th>&hellip;</th><td>&nbsp;</td></tbody><tbody class="ChangeEqual"><tr><th>240</th><th>202</th><td class="Left">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if move in self.legal_moves(player, board):</td></tr><tr><th>241</th><th>203</th><td class="Left">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return 10*y + x</td></tr><tr><th>242</th><th>204</th><td class="Left">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;else:</td></tr></tbody><tbody class="ChangeReplace"><tr><th>243</th><th>&nbsp;</th><td class="Left"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;print('Not a legal move. <del>Input another one</del>.')</span></td></tr><tr><th>&nbsp;</th><th>205</th><td class="Right"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;print('Not a legal move. <ins>Try again</ins>.')</span></td></tr></tbody><tbody class="ChangeEqual"><tr><th>244</th><th>206</th><td class="Left">&nbsp; &nbsp; &nbsp; &nbsp;return humanPlayer</td></tr><tr><th>245</th><th>207</th><td class="Left"></td></tr></tbody><tbody class="ChangeReplace"><tr><th>246</th><th>&nbsp;</th><td class="Left"><span>&nbsp; &nbsp;def alphabeta_strategy(self, depth):</span></td></tr><tr><th>247</th><th>&nbsp;</th><td class="Left"><span>&nbsp; &nbsp; &nbsp; &nbsp;def strategy(board, player):</span></td></tr><tr><th>248</th><th>&nbsp;</th><td class="Left"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return self.alphabeta(player, board, aval, bval, depth)[1]</span></td></tr><tr><th>249</th><th>&nbsp;</th><td class="Left"><span>&nbsp; &nbsp; &nbsp; &nbsp;return strategy</span></td></tr><tr><th>&nbsp;</th><th>208</th><td class="Right"><span>&nbsp; &nbsp;def best_strategy(self, board, player, best_move, still_running):</span></td></tr><tr><th>&nbsp;</th><th>209</th><td class="Right"><span>&nbsp; &nbsp; &nbsp; &nbsp;"""</span></td></tr><tr><th>&nbsp;</th><th>210</th><td class="Right"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;:param board: a length 100 list representing the board state</span></td></tr><tr><th>&nbsp;</th><th>211</th><td class="Right"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;:param player: WHITE or BLACK</span></td></tr><tr><th>&nbsp;</th><th>212</th><td class="Right"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;:param best_move: shared multiptocessing.Value containing an int of</span></td></tr><tr><th>&nbsp;</th><th>213</th><td class="Right"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;the current best move</span></td></tr><tr><th>&nbsp;</th><th>214</th><td class="Right"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;:param still_running: shared multiprocessing.Value containing an int</span></td></tr><tr><th>&nbsp;</th><th>215</th><td class="Right"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;that is 0 iff the parent process intends to kill this process</span></td></tr><tr><th>&nbsp;</th><th>216</th><td class="Right"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;:return: best move as an int in [11,88] or possibly 0 for 'unknown'</span></td></tr><tr><th>&nbsp;</th><th>217</th><td class="Right"><span>&nbsp; &nbsp; &nbsp; &nbsp;"""</span></td></tr><tr><th>&nbsp;</th><th>218</th><td class="Right"><span>&nbsp; &nbsp; &nbsp; &nbsp;"""while still_running is not 0:</span></td></tr><tr><th>&nbsp;</th><th>219</th><td class="Right"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;depth = 5</span></td></tr><tr><th>&nbsp;</th><th>220</th><td class="Right"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;best_move.value = self.alpha_beta(board, player, depth)</span></td></tr><tr><th>&nbsp;</th><th>221</th><td class="Right"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;depth += 1</span></td></tr><tr><th>&nbsp;</th><th>222</th><td class="Right"><span>&nbsp; &nbsp; &nbsp; &nbsp;"""</span></td></tr><tr><th>&nbsp;</th><th>223</th><td class="Right"><span>&nbsp; &nbsp; &nbsp; &nbsp;depth = 3</span></td></tr><tr><th>&nbsp;</th><th>224</th><td class="Right"><span>&nbsp; &nbsp; &nbsp; &nbsp;while still_running is not 0:</span></td></tr><tr><th>&nbsp;</th><th>225</th><td class="Right"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;val = self.alpha_beta(board, player, depth)</span></td></tr><tr><th>&nbsp;</th><th>226</th><td class="Right"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;best_move.value = val</span></td></tr><tr><th>&nbsp;</th><th>227</th><td class="Right"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;depth += 1</span></td></tr><tr><th>&nbsp;</th><th>228</th><td class="Right"><span>&nbsp; &nbsp; &nbsp; &nbsp;return</span></td></tr><tr><th>&nbsp;</th><th>229</th><td class="Right"><span></span></td></tr><tr><th>&nbsp;</th><th>230</th><td class="Right"><span>&nbsp; &nbsp;def alpha_beta(self, board, player, depth):</span></td></tr><tr><th>&nbsp;</th><th>231</th><td class="Right"><span>&nbsp; &nbsp; &nbsp; &nbsp;if player is 'o':</span></td></tr><tr><th>&nbsp;</th><th>232</th><td class="Right"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;v, m = self.max_value(board, player, -10**10, 10**10, depth, 0)</span></td></tr><tr><th>&nbsp;</th><th>233</th><td class="Right"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if m is None:</span></td></tr><tr><th>&nbsp;</th><th>234</th><td class="Right"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return 0</span></td></tr><tr><th>&nbsp;</th><th>235</th><td class="Right"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return m</span></td></tr><tr><th>&nbsp;</th><th>236</th><td class="Right"><span>&nbsp; &nbsp; &nbsp; &nbsp;if player is '@':</span></td></tr><tr><th>&nbsp;</th><th>237</th><td class="Right"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;v, m = self.min_value(board, player, -10**10, 10**10, depth, 0)</span></td></tr><tr><th>&nbsp;</th><th>238</th><td class="Right"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if m is None:</span></td></tr><tr><th>&nbsp;</th><th>239</th><td class="Right"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return 0</span></td></tr><tr><th>&nbsp;</th><th>240</th><td class="Right"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return m</span></td></tr><tr><th>&nbsp;</th><th>241</th><td class="Right"><span></span></td></tr><tr><th>&nbsp;</th><th>242</th><td class="Right"><span>&nbsp; &nbsp;def max_value(self, board, player, alpha, beta, depth, current_depth):</span></td></tr><tr><th>&nbsp;</th><th>243</th><td class="Right"><span>&nbsp; &nbsp; &nbsp; &nbsp;if self.next_player(board, player) is None or current_depth is depth:</span></td></tr><tr><th>&nbsp;</th><th>244</th><td class="Right"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return self.weigh(board), None</span></td></tr><tr><th>&nbsp;</th><th>245</th><td class="Right"><span>&nbsp; &nbsp; &nbsp; &nbsp;v = -10**10</span></td></tr><tr><th>&nbsp;</th><th>246</th><td class="Right"><span>&nbsp; &nbsp; &nbsp; &nbsp;move = None</span></td></tr><tr><th>&nbsp;</th><th>247</th><td class="Right"><span>&nbsp; &nbsp; &nbsp; &nbsp;for val in self.legal_moves(player, board):</span></td></tr><tr><th>&nbsp;</th><th>248</th><td class="Right"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;tempv = v</span></td></tr><tr><th>&nbsp;</th><th>249</th><td class="Right"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;tempBoard = [board[i] for i in range(len(board))]</span></td></tr><tr><th>&nbsp;</th><th>250</th><td class="Right"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;tempBoard = self.make_move(val, player, tempBoard)</span></td></tr><tr><th>&nbsp;</th><th>251</th><td class="Right"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;v = max(v, self.min_value(tempBoard, self.next_player(tempBoard, player), alpha, beta, depth, current_depth + 1)[0])</span></td></tr><tr><th>&nbsp;</th><th>252</th><td class="Right"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if tempv is not v:</span></td></tr><tr><th>&nbsp;</th><th>253</th><td class="Right"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;move = val</span></td></tr><tr><th>&nbsp;</th><th>254</th><td class="Right"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if v &gt;= beta:</span></td></tr><tr><th>&nbsp;</th><th>255</th><td class="Right"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return v, val</span></td></tr><tr><th>&nbsp;</th><th>256</th><td class="Right"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;alpha = max(alpha, v)</span></td></tr><tr><th>&nbsp;</th><th>257</th><td class="Right"><span>&nbsp; &nbsp; &nbsp; &nbsp;return v, move</span></td></tr><tr><th>&nbsp;</th><th>258</th><td class="Right"><span></span></td></tr><tr><th>&nbsp;</th><th>259</th><td class="Right"><span>&nbsp; &nbsp;def min_value(self, board, player, alpha, beta, depth, current_depth):</span></td></tr><tr><th>&nbsp;</th><th>260</th><td class="Right"><span>&nbsp; &nbsp; &nbsp; &nbsp;if self.next_player(board, player) is None or current_depth is depth:</span></td></tr><tr><th>&nbsp;</th><th>261</th><td class="Right"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return self.weigh(board), None</span></td></tr><tr><th>&nbsp;</th><th>262</th><td class="Right"><span>&nbsp; &nbsp; &nbsp; &nbsp;v = 10**10</span></td></tr><tr><th>&nbsp;</th><th>263</th><td class="Right"><span>&nbsp; &nbsp; &nbsp; &nbsp;move = None</span></td></tr><tr><th>&nbsp;</th><th>264</th><td class="Right"><span>&nbsp; &nbsp; &nbsp; &nbsp;for val in self.legal_moves(player, board):</span></td></tr><tr><th>&nbsp;</th><th>265</th><td class="Right"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;tempv = v</span></td></tr><tr><th>&nbsp;</th><th>266</th><td class="Right"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;tempBoard = [board[i] for i in range(len(board))]</span></td></tr><tr><th>&nbsp;</th><th>267</th><td class="Right"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;tempBoard = self.make_move(val, player, tempBoard)</span></td></tr><tr><th>&nbsp;</th><th>268</th><td class="Right"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;v = min(v, self.max_value(tempBoard, self.next_player(tempBoard, player), alpha, beta, depth, current_depth + 1)[0])</span></td></tr><tr><th>&nbsp;</th><th>269</th><td class="Right"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if tempv is not v:</span></td></tr><tr><th>&nbsp;</th><th>270</th><td class="Right"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;move = val</span></td></tr><tr><th>&nbsp;</th><th>271</th><td class="Right"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if alpha &gt;= v:</span></td></tr><tr><th>&nbsp;</th><th>272</th><td class="Right"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return v, val</span></td></tr><tr><th>&nbsp;</th><th>273</th><td class="Right"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;beta = min(beta, v)</span></td></tr><tr><th>&nbsp;</th><th>274</th><td class="Right"><span>&nbsp; &nbsp; &nbsp; &nbsp;return v, move</span></td></tr><tr><th>&nbsp;</th><th>275</th><td class="Right"><span></span></td></tr><tr><th>&nbsp;</th><th>276</th><td class="Right"><span></span></td></tr></tbody></table>		</pre>
	</body>
</html>
