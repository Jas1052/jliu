
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
	<head>
		<meta http-equiv="Content-type" content="text/html; charset=utf-8"/>
		<title>PHP LibDiff - Examples</title>
		<link rel="stylesheet" href="../styles.css" type="text/css" charset="utf-8"/>
	</head>
	<body>
		<h1>tensorflow / tensorflow / core / common_runtime / sycl / sycl_allocator.cc</h1>
		<h2> Time Taken: 27.3356280 sec </h2>
		<h2> 18047 : 18048 </h2>
		<hr />
		
		<table class="Differences DifferencesInline"><thead><tr><th>Old</th><th>New</th><th>Differences</th></tr></thead><tbody class="ChangeEqual"><tr><th>16</th><th>16</th><td class="Left"></td></tr><tr><th>17</th><th>17</th><td class="Left">namespace tensorflow {</td></tr><tr><th>18</th><th>18</th><td class="Left"></td></tr></tbody><tbody class="ChangeReplace"><tr><th>19</th><th>&nbsp;</th><td class="Left"><span>SYCLAllocator::~SYCLAllocator() {</span></td></tr><tr><th>20</th><th>&nbsp;</th><td class="Left"><span>&nbsp;if(sycl_device_) {</span></td></tr><tr><th>21</th><th>&nbsp;</th><td class="Left"><span>&nbsp; &nbsp;delete sycl_device_;</span></td></tr><tr><th>22</th><th>&nbsp;</th><td class="Left"><span>&nbsp;}</span></td></tr><tr><th>23</th><th>&nbsp;</th><td class="Left"><span>}</span></td></tr><tr><th>&nbsp;</th><th>19</th><td class="Right"><span>SYCLAllocator::~SYCLAllocator() {}</span></td></tr></tbody><tbody class="ChangeEqual"><tr><th>24</th><th>20</th><td class="Left"></td></tr><tr><th>25</th><th>21</th><td class="Left">string SYCLAllocator::Name() { return "device:SYCL"; }</td></tr><tr><th>26</th><th>22</th><td class="Left"></td></tr><tr><th>27</th><th>23</th><td class="Left">void *SYCLAllocator::AllocateRaw(size_t alignment, size_t num_bytes) {</td></tr></tbody><tbody class="ChangeReplace"><tr><th>28</th><th>&nbsp;</th><td class="Left"><span>&nbsp;assert(sycl_device_);</span></td></tr><tr><th>29</th><th>&nbsp;</th><td class="Left"><span>&nbsp;if (num_bytes == 0) {</span></td></tr><tr><th>30</th><th>&nbsp;</th><td class="Left"><span>&nbsp; &nbsp;return sycl_device_-&gt;allocate(1);</span></td></tr><tr><th>31</th><th>&nbsp;</th><td class="Left"><span>&nbsp;}</span></td></tr><tr><th>32</th><th>&nbsp;</th><td class="Left"><span>&nbsp;auto p = sycl_device_-&gt;allocate(num_bytes);</span></td></tr><tr><th>&nbsp;</th><th>24</th><td class="Right"><span>&nbsp;assert(device_);</span></td></tr><tr><th>&nbsp;</th><th>25</th><td class="Right"><span>&nbsp;auto p = device_-&gt;allocate(num_bytes);</span></td></tr></tbody><tbody class="ChangeEqual"><tr><th>33</th><th>26</th><td class="Left">&nbsp;return p;</td></tr><tr><th>34</th><th>27</th><td class="Left">}</td></tr><tr><th>35</th><th>28</th><td class="Left"></td></tr><tr><th>36</th><th>29</th><td class="Left">void SYCLAllocator::DeallocateRaw(void *ptr) {</td></tr></tbody><tbody class="ChangeReplace"><tr><th>37</th><th>&nbsp;</th><td class="Left"><span>&nbsp;if (<del>sycl_</del>device_) {</span></td></tr><tr><th>38</th><th>&nbsp;</th><td class="Left"><span>&nbsp; &nbsp;<del>sycl_</del>device_-&gt;deallocate(ptr);</span></td></tr><tr><th>&nbsp;</th><th>30</th><td class="Right"><span>&nbsp;if (<ins></ins>device_) {</span></td></tr><tr><th>&nbsp;</th><th>31</th><td class="Right"><span>&nbsp; &nbsp;<ins></ins>device_-&gt;deallocate(ptr);</span></td></tr></tbody><tbody class="ChangeEqual"><tr><th>39</th><th>32</th><td class="Left">&nbsp;}</td></tr><tr><th>40</th><th>33</th><td class="Left">}</td></tr><tr><th>41</th><th>34</th><td class="Left"></td></tr></tbody><tbody class="ChangeReplace"><tr><th>42</th><th>&nbsp;</th><td class="Left"><span>}&nbsp;// namespace tensorflow</span></td></tr><tr><th>&nbsp;</th><th>35</th><td class="Right"><span>void SYCLAllocator::EnterLameDuckMode() {</span></td></tr><tr><th>&nbsp;</th><th>36</th><td class="Right"><span>&nbsp;device_-&gt;deallocate_all();</span></td></tr><tr><th>&nbsp;</th><th>37</th><td class="Right"><span>&nbsp;device_ = nullptr;</span></td></tr><tr><th>&nbsp;</th><th>38</th><td class="Right"><span>}</span></td></tr></tbody><tbody class="ChangeEqual"><tr><th>43</th><th>39</th><td class="Left"></td></tr></tbody><tbody class="ChangeReplace"><tr><th>44</th><th>&nbsp;</th><td class="Left"><span>#endif&nbsp;// TENSORFLOW_USE_SYCL</span></td></tr><tr><th>&nbsp;</th><th>40</th><td class="Right"><span>} // namespace tensorflow</span></td></tr><tr><th>&nbsp;</th><th>41</th><td class="Right"><span></span></td></tr><tr><th>&nbsp;</th><th>42</th><td class="Right"><span>#endif // TENSORFLOW_USE_SYCL</span></td></tr></tbody></table>		</pre>
	</body>
</html>

<script src='https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js'></script>
<script>
    document.onkeydown = checkKey;
    function checkKey(e) {
        e = e || window.event;
      if (e.keyCode == '39') {
          document.location.href = 'www.jasonjliu.com/tjstar/tensorflow/2.html';
        }
    }
</script>